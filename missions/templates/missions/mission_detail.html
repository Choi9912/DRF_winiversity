{% extends 'accounts/base.html' %}

{% block content %}
<h1>{{ mission.question }}</h1>
<p>과목: {{ mission.get_course_display }}</p>
<p>유형: {{ mission.get_type_display }}</p>

<form method="post" action="{% url 'mission-submit' mission.id %}">
    {% csrf_token %}
    {% if mission.type == 'multiple_choice' %}
        {% for option in mission.multiple_choice.get_options %}
            <div>
                <input type="radio" id="option{{ forloop.counter }}" name="selected_option" value="{{ forloop.counter0 }}">
                <label for="option{{ forloop.counter }}">{{ option }}</label>
            </div>
        {% endfor %}
    {% endif %}
    <button type="submit">제출</button>
</form>

{% if submission_result %}
    <div>
        {% if submission_result.is_correct %}
            <p style="color: green;">정답입니다!</p>
        {% else %}
            <p style="color: red;">틀렸습니다. 다시 시도해보세요.</p>
        {% endif %}
    </div>
{% endif %}

<a href="{% url 'mission-list' %}">미션 목록으로 돌아가기</a>
{% endblock %}